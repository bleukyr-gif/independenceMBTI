<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>내 안의 독립운동가 찾기 (경북편)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700&family=Noto+Sans+KR:wght@300;400;700&display=swap');

        :root {
            --primary-color: #1a237e; /* 짙은 남색 */
            --accent-color: #c62828;  /* 붉은색 */
            --bg-color: #f5f5f5;
            --text-color: #333;
            --history-bg: #e8eaf6;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 600px;
            background: white;
            padding: 30px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        h1, h2, h3 { font-family: 'Noto Serif KR', serif; }

        /* 시작 화면 */
        .start-screen h1 { font-size: 2.5rem; color: var(--primary-color); }
        .btn {
            display: block; width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 8px;
            background-color: var(--primary-color); color: white; font-size: 1.1rem; cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
        }
        .btn:hover { transform: translateY(-2px); background-color: #283593; }
        .btn-outline { background-color: white; border: 2px solid var(--primary-color); color: var(--primary-color); }
        .btn-outline:hover { background-color: #e8eaf6; }

        /* 질문 화면 */
        .question-screen { display: none; width: 100%; }
        .progress-bar { width: 100%; height: 10px; background-color: #ddd; border-radius: 5px; margin-bottom: 30px; overflow: hidden; }
        .progress-fill { height: 100%; background-color: var(--accent-color); width: 0%; transition: width 0.3s ease; }
        .tag { display: inline-block; padding: 5px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; margin-bottom: 15px; }
        .tag-daily { background-color: #e0e0e0; color: #555; }
        .tag-history { background-color: var(--primary-color); color: white; }
        .question-text { font-size: 1.3rem; margin-bottom: 30px; line-height: 1.5; word-break: keep-all; min-height: 80px;}
        .answer-btn { background-color: white; border: 1px solid #ddd; color: #333; padding: 20px; margin-bottom: 15px; border-radius: 10px; width: 100%; cursor: pointer; transition: all 0.2s; font-size: 1rem; line-height: 1.4; }
        .answer-btn:hover { background-color: var(--history-bg); border-color: var(--primary-color); font-weight: bold; }

        /* 결과 화면 */
        .result-screen { display: none; width: 100%; }
        .mbti-type { font-size: 2rem; color: var(--accent-color); font-weight: bold; margin-bottom: 10px; }
        .activist-name { font-size: 1.8rem; margin-bottom: 5px; color: var(--primary-color); font-weight: 700; }
        .activist-alias { font-size: 1.1rem; color: #555; margin-bottom: 20px; font-style: italic; }
        
        /* 이미지 영역 스타일 */
        .result-img-box {
            width: 100%;
            max-width: 300px;
            height: 350px;
            margin: 0 auto 20px;
            border-radius: 10px;
            overflow: hidden;
            border: 5px solid #eee;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .result-img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* 사진 비율 유지하며 꽉 채우기 */
        }

        .img-alt-text {
            color: #888;
            padding: 20px;
            font-size: 0.9rem;
        }

        .desc-box { background-color: #f9f9f9; padding: 25px; border-radius: 10px; text-align: left; margin-bottom: 20px; line-height: 1.7; font-size: 0.95rem; border-left: 5px solid var(--primary-color); }
        .desc-title { color: var(--primary-color); font-weight: bold; display: block; margin-bottom: 5px; font-size: 1.1rem; margin-top: 15px;}
        .desc-title:first-child { margin-top: 0; }
        
        .footer-info { margin-top: 30px; font-size: 0.8rem; color: #888; }
    </style>
</head>
<body>

<div class="container">
    <div id="start-screen" class="start-screen">
        <br>
        <h1>내 안의<br>독립운동가 찾기</h1>
        <p style="margin-bottom: 40px; line-height: 1.6;">
            지금 내 성격과 가장 닮은<br>
            <strong>경북의 독립운동가</strong>는 누구일까요?<br>
            <span style="font-size:0.9rem; color:#666;">(일상 질문 + 역사적 상상 질문)</span>
        </p>
        
        <button class="btn" onclick="startTest('kids')">🐣 초등학생용 시작하기</button>
        <button class="btn btn-outline" onclick="startTest('adult')">🏢 일반 성인용 시작하기</button>
    </div>

    <div id="question-screen" class="question-screen">
        <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
        <div id="q-tag" class="tag tag-daily">일상</div>
        <h2 id="q-text" class="question-text">질문 내용</h2>
        <button class="answer-btn" onclick="nextQuestion('A')">답변 A</button>
        <button class="answer-btn" onclick="nextQuestion('B')">답변 B</button>
    </div>

    <div id="result-screen" class="result-screen">
        <h3>당신의 독립운동 유형은...</h3>
        <div id="r-mbti" class="mbti-type">Type</div>
        
        <div class="result-img-box">
            <img id="r-img" src="" alt="독립운동가 사진" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="img-alt-text" style="display:none;">
                <strong>사진 준비 중</strong><br><br>
                같은 폴더에<br>
                <span id="r-filename" style="color:blue;">filename.jpg</span><br>
                이름으로 사진을 저장해주세요.
            </div>
        </div>

        <div id="r-name" class="activist-name">이름</div>
        <div id="r-alias" class="activist-alias">별칭</div>

        <div class="desc-box">
            <div id="r-desc">설명 내용</div>
        </div>

        <button class="btn" onclick="location.reload()">테스트 다시 하기</button>
        <button class="btn btn-outline" onclick="window.open('https://e-gonghun.mpva.go.kr/')">공훈전자사료관에서 더 찾아보기</button>
        <div class="footer-info">자료출처: 공훈전자사료관, 경상북도독립운동기념관</div>
    </div>
</div>

<script>
    // 16인 상세 데이터 (요청하신 상세 설명 포함)
    const results = {
        "INTJ": { 
            name: "장진홍 (칠곡)", 
            alias: "보이지 않는 전략가", 
            img: "intj.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            조직을 만들거나 군중 앞에 나서기보다, 단독으로 계획하고 은밀하게 움직이는 것을 선호했습니다. 일제의 경제적 심장부(조선은행)를 타격했을 때 올 파급력을 내다본 거시적 안목과, 택배 시스템을 이용해 원격으로 폭파하는 치밀한 전략가였습니다.
            <span class="desc-title">[결정적 일화]</span>
            1927년 조선은행 대구지점 폭파 사건 당시, 현장에는 그가 없었습니다. 폭탄을 벌꿀 상자로 위장해 배달시켰기 때문입니다. 체포 직전 자결을 선택함으로써 조직과 동지들에 대한 정보를 영구히 묻어버린, 완벽주의자였습니다.`
        },
        "INTP": { 
            name: "동산 류인식 (안동)", 
            alias: "깨어있는 혁신가", 
            img: "intp.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            정치적 전면보다 학문 연구와 교육 시스템 구축에 몰두한 사색가였습니다. 썩어빠진 봉건 제도로는 나라를 구할 수 없음을 깨닫고, '신학문'이라는 새로운 비전을 제시하며 시대의 변화에 맞춰 유연하게 사고를 전환했습니다.
            <span class="desc-title">[결정적 일화]</span>
            보수 유림의 본산인 안동에서 단발령 이전에 스스로 상투를 자르고 '협동학교'를 세웠습니다. "머리카락을 자르는 것이 불효가 아니라, 나라를 잃는 것이 불효다"라는 논리로 유림들을 설득해낸 혁신적인 지식인이었습니다.`
        },
        "ENTJ": { 
            name: "왕산 허위 (구미)", 
            alias: "대담한 통솔자", 
            img: "entj.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            전국의 흩어진 의병 부대를 하나로 모으는 강력한 리더십을 발휘했습니다. 산발적인 전투가 아닌 적의 심장부인 '서울'을 직접 타격하는 대담한 작전을 수립하고, 군율을 엄격히 세워 조직을 이끌었습니다.
            <span class="desc-title">[결정적 일화]</span>
            체포 후 일본 검사가 심문하자 "남의 나라를 침략한 너희가 죄인이다"라고 호통치며 재판장의 기세를 눌러버렸습니다. 사형 순간에도 눈가리개를 거부하고 당당히 죽음을 맞이하여 적장조차 경의를 표하게 만들었습니다.`
        },
        "ENTP": { 
            name: "단주 유림 (안동)", 
            alias: "타협 없는 변론가", 
            img: "entp.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            '강제 권력이 없는 완전한 자유'를 꿈꾼 아나키스트입니다. 감정적 호소보다 "왜 정부가 필요 없는가?"에 대한 철학적이고 논리적인 근거로 논쟁을 주도했으며, 어떤 권위에도 얽매이지 않는 자유인이었습니다.
            <span class="desc-title">[결정적 일화]</span>
            해방 후 "무정부주의자가 왜 정부 수립에 참여하냐"는 비아냥에, "나는 무질서가 아니라 강제 권력을 반대하는 것이다"라고 논리정연하게 반박했습니다. 이승만 대통령 면전에서도 독재를 비판하며 쓴소리를 아끼지 않았습니다.`
        },
        "INFJ": { 
            name: "향산 이만도 (안동)", 
            alias: "고결한 정신적 지주", 
            img: "infj.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            조용히 내면을 성찰하며 뜻을 다졌습니다. 눈앞의 목숨보다 죽음을 통해 지켜내야 할 '민족의 정신'을 더 중요하게 여겼으며, 한번 결심한 것은 끝까지 고수하는 대쪽 같은 선비였습니다.
            <span class="desc-title">[결정적 일화]</span>
            나라가 망하자 24일간 물 한 모금 마시지 않고 단식 순국했습니다. 청나라 의사가 와서 진맥하려 하자 "망국노가 살아서 무엇하느냐"며 거부했습니다. 그의 죽음은 안동 독립운동의 정신적 뿌리가 되었습니다.`
        },
        "INFP": { 
            name: "이육사 (안동)", 
            alias: "강철로 된 무지개", 
            img: "infp.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            감옥 독방에서도 시를 쓰며 조국의 현실을 고민했습니다. '광야', '청포도' 등을 통해 이상향을 꿈꿨으며, 민족의 아픔에 깊이 공감하고 그 고통을 아름답고 비장한 언어로 승화시킨 로맨티스트였습니다.
            <span class="desc-title">[결정적 일화]</span>
            총을 든 의열단원이자 저항 시인이었던 그는 베이징 감옥에서 순국하기 직전까지 시를 썼습니다. 그의 시는 단순한 문학이 아니라, 절망 속에서도 절대 꺾이지 않는 낭만적인 저항 정신의 결정체였습니다.`
        },
        "ENFJ": { 
            name: "일송 김동삼 (안동)", 
            alias: "만주의 호랑이", 
            img: "enfj.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            수많은 단체를 설득하고 규합하는 활동적인 리더였습니다. "모두가 하나로 뭉쳐야 한다"는 대통합의 비전을 제시했고, 특유의 친화력과 호소력으로 갈등을 중재하며 조직을 이끌었습니다.
            <span class="desc-title">[결정적 일화]</span>
            평생을 독립운동 단체의 통합에 바쳤습니다. 감옥에서 죽어가면서도 끝까지 '단결'을 호소했으며, 자신의 유해를 강물에 띄워 죽어서도 민족을 지키겠다는 유언을 남긴 이타적인 지도자였습니다.`
        },
        "ENFP": { 
            name: "심산 김창숙 (성주)", 
            alias: "꺾이지 않는 불꽃", 
            img: "enfp.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            국내와 해외를 쉴 새 없이 오가며 네트워크를 연결했습니다. 유림 출신임에도 민주주의를 받아들이는 열린 사고를 가졌으며, 불의를 보면 참지 못하고 상황에 따라 유연하게 변신하며 목표를 향해 돌진했습니다.
            <span class="desc-title">[결정적 일화]</span>
            일제의 고문으로 앉은뱅이가 되었을 때, 보석 신청을 거부하며 "내 발로 걸어 나가지 못하면 시체가 되어 나갈 뿐이다"라고 일갈했습니다. 해방 후에도 휠체어를 타고 독재에 맞선 영원한 현역 활동가였습니다.`
        },
        "ISTJ": { 
            name: "운강 이강년 (문경)", 
            alias: "원칙의 수호자", 
            img: "istj.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            말수가 적고 신중하며, 묵묵히 책임을 다했습니다. 뜬구름 잡는 계획보다 병력, 무기, 지형 등 현실적인 요소를 철저히 점검했으며, 13년간 의병 활동을 하면서도 군율과 원칙을 한결같이 지켰습니다.
            <span class="desc-title">[결정적 일화]</span>
            체포된 후 일본군이 조롱하자 의관을 정제하고 정좌하여 호통을 쳤습니다. 재판정에서도 "국제법에 따라 포로로 대우하라"고 논리적으로 주장하며, 죽음 앞에서도 흐트러짐 없는 자세를 유지했습니다.`
        },
        "ISFJ": { 
            name: "남자현 (영양)", 
            alias: "독립군의 어머니", 
            img: "isfj.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            뒤에서 묵묵히 동료들을 지원하는 역할을 자처했습니다. 독립군들의 식사와 부상 치료 등 실질적인 도움을 세심하게 챙겼으며, 동료들을 친아들처럼 아끼는 따뜻한 모성애와 헌신을 보여주었습니다.
            <span class="desc-title">[결정적 일화]</span>
            독립운동계의 단결을 호소하기 위해 주저 없이 손가락을 잘라 혈서를 썼습니다. 평소에는 따뜻한 어머니였지만, 지켜야 할 가치가 위협받을 때는 누구보다 강인한 투사로 변모하는 외유내강의 전형입니다.`
        },
        "ESTJ": { 
            name: "석주 이상룡 (안동)", 
            alias: "노블레스 오블리주", 
            img: "estj.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            집안의 노비 문서를 불태우고 솔선수범하여 사람들을 이끌었습니다. 전 재산을 처분해 신흥무관학교를 짓는 현실적인 기반을 닦았으며, 체계적인 군사 훈련 시스템과 행정 조직을 구축한 탁월한 관리자였습니다.
            <span class="desc-title">[결정적 일화]</span>
            "공자 맹자는 잠시 접어두라"며 조상의 신주를 땅에 묻고 99칸 저택을 팔아 만주로 떠났습니다. 명분보다는 실질적인 무장 투쟁 기반을 기업 경영하듯 체계적으로 건설한 실천적 지도자입니다.`
        },
        "ESFJ": { 
            name: "김락 (안동)", 
            alias: "가문의 수호자", 
            img: "esfj.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            사람들과 교류하며 3.1 운동 당시 시위 현장에 직접 뛰어들었습니다. 투옥된 가족들의 옥바라지를 위해 생계를 책임졌으며, 가족과 이웃의 고통을 자신의 고통처럼 여기며 헌신했습니다.
            <span class="desc-title">[결정적 일화]</span>
            만세 운동 현장에서 일제의 고문으로 두 눈을 잃었습니다. 칠흑 같은 어둠 속에서도 시아버지, 남편, 아들의 옥살이와 죽음을 견뎌내며 3대에 걸친 독립운동 가문을 지탱해낸 위대한 헌신가입니다.`
        },
        "ISTP": { 
            name: "신돌석 (영덕)", 
            alias: "태백산 호랑이", 
            img: "istp.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            말로 떠들기보다 행동으로 보여주는 실전형 리더였습니다. 태백산맥의 지형과 날씨를 완벽하게 파악하고, 주변 도구를 무기로 활용하는 임기응변과 게릴라 전술에 능통했습니다.
            <span class="desc-title">[결정적 일화]</span>
            축지법을 쓴다는 소문이 돌 정도로 기동력이 뛰어났습니다. 험준한 산악 지형을 마치 내 집 안방처럼 활용하며 신출귀몰하게 일본군을 타격했습니다. 도구와 환경을 완벽하게 장악한 만능 재주꾼입니다.`
        },
        "ISFP": { 
            name: "김지섭 (안동)", 
            alias: "가슴 뜨거운 행동가", 
            img: "isfp.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            평소에는 온화했으나 내면에는 뜨거운 불꽃을 품고 있었습니다. 이론보다는 폭탄을 들고 적진에 뛰어드는 감각적 체험을 선택했으며, 강렬한 정의감과 열정이 그를 움직이는 원동력이었습니다.
            <span class="desc-title">[결정적 일화]</span>
            일본 왕궁 입구(이중교)에 폭탄 3발을 던졌습니다. 비록 불발되었지만 재판정에서 "목숨을 구걸하지 않는다. 일본의 죄악을 응징하려 했을 뿐"이라며 담담히 진술한, 예술가적 투사의 모습입니다.`
        },
        "ESTP": { 
            name: "김시현 (안동)", 
            alias: "타고난 승부사", 
            img: "estp.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            적군이든 아군이든 가리지 않는 엄청난 사교술과 협상력을 지녔습니다. 먼 미래보다 당장의 스릴 넘치는 미션에 집중했으며, 위험천만한 상황을 오히려 즐기며 기지를 발휘해 돌파했습니다.
            <span class="desc-title">[결정적 일화]</span>
            일본 경찰 간부 '황옥'을 포섭하여 적의 손을 빌려 폭탄을 운반하게 만들었습니다. 영화 '밀정'의 실제 모델로, 대담한 배짱과 수완으로 적의 심장부를 농락한 모험가입니다.`
        },
        "ESFP": { 
            name: "박열 (문경)", 
            alias: "유쾌한 아나키스트", 
            img: "esfp.jpg",
            desc: `<span class="desc-title">[성향 분석]</span>
            사람들의 시선을 즐기고 재판 과정을 퍼포먼스로 활용했습니다. 복잡한 이념보다 현재의 삶과 사랑을 중요하게 여겼으며, 감옥에서도 조선 옷을 입거나 반말을 하는 등 자유분방하게 행동했습니다.
            <span class="desc-title">[결정적 일화]</span>
            사형 선고를 받는 재판정에서 조선 관복을 입고 호탕하게 웃거나 농담을 던졌습니다. 죽음 앞에서도 유머와 여유를 잃지 않았던, 역사상 가장 유쾌하고 자유로운 영혼의 소유자입니다.`
        }
    };

    // 질문 데이터 (초등학생용 / 성인용)
    const questionsData = {
        kids: [
            { type: "EI", q: "쉬는 시간이 종이 땡! 하고 울리면 나는?", a: "친구들과 밖에서 뛰어논다.", b: "자리에 앉아 책을 보거나 쉰다.", tag: "일상" },
            { type: "EI", q: "3.1 만세 운동 날! 태극기를 든 나는?", a: "맨 앞에서 큰 소리로 만세를 외친다!", b: "친구들과 함께 뒤에서 열심히 따라간다.", tag: "역사" },
            { type: "EI", q: "새 학기 첫날, 짝꿍에게 나는?", a: "먼저 말을 걸고 인사한다.", b: "말을 걸어줄 때까지 기다린다.", tag: "일상" },
            { type: "SN", q: "독립군 비밀 기지를 짓기 위해 산에 올라갔다. 무엇부터 할까?", a: "튼튼하게 짓는 방법을 고민한다.", b: "훗날 이곳이 전설이 될 상상을 한다.", tag: "역사" },
            { type: "SN", q: "미술 시간에 '사과'를 그리라고 하면?", a: "진짜 사과랑 똑같이 그린다.", b: "무지개 색깔 사과처럼 상상해서 그린다.", tag: "일상" },
            { type: "SN", q: "독립자금을 전달하는 비밀 지령을 받았다!", a: "지도에 나온 설명대로 꼼꼼히 간다.", b: "순사가 없을 것 같은 내 느낌을 믿고 간다.", tag: "역사" },
            { type: "TF", q: "친구가 달리기를 하다 넘어져서 울고 있다.", a: "어디 다쳤는지 보고 보건실에 데려간다.", b: "많이 아프지? 하며 같이 슬퍼해준다.", tag: "일상" },
            { type: "TF", q: "다친 동료가 '나를 두고 먼저 가!'라고 한다면?", a: "눈물을 머금고 작전을 위해 이동한다.", b: "절대 두고 갈 수 없다며 부축한다.", tag: "역사" },
            { type: "TF", q: "친구랑 게임 규칙 때문에 싸웠을 때?", a: "반칙은 반칙! 규칙을 따진다.", b: "화해하고 사이좋게 지내는 게 중요하다.", tag: "일상" },
            { type: "JP", q: "일본 경찰서에 잠입하여 서류를 가져와야 한다!", a: "몇 시에 들어가서 나올지 계획을 짠다.", b: "일단 변장을 하고 가서 상황을 본다.", tag: "역사" },
            { type: "JP", q: "방학 숙제인 일기 쓰기, 나는?", a: "매일매일 꼬박꼬박 쓴다.", b: "개학 전날에 몰아서 쓴다.", tag: "일상" },
            { type: "JP", q: "내일은 중요한 거사일! 전날 밤 나는?", a: "준비물을 가방에 완벽하게 챙겨둔다.", b: "일단 푹 자고 내일 아침에 챙긴다.", tag: "역사" }
        ],
        adult: [
            { type: "EI", q: "고된 프로젝트가 끝난 주말, 에너지를 충전하는 방법은?", a: "친구들과 만나 회포를 푼다.", b: "집에서 혼자만의 시간을 갖는다.", tag: "일상" },
            { type: "EI", q: "임시정부에서 일하게 되었다. 선호하는 보직은?", a: "[외교관] 사람들을 만나고 설득한다.", b: "[전략가] 뒤에서 조용히 작전을 짠다.", tag: "역사" },
            { type: "EI", q: "낯선 모임에 초대받았을 때 나는?", a: "먼저 말을 걸고 명함을 건넨다.", b: "조용히 분위기를 살피며 앉아 있는다.", tag: "일상" },
            { type: "SN", q: "신무기(권총)를 도입해야 한다. 당신의 관심사는?", a: "성능, 사거리, 고장 여부 (현실적)", b: "이 총성이 가져올 파급력과 의미 (이상적)", tag: "역사" },
            { type: "SN", q: "업무 지시를 받을 때 선호하는 스타일은?", a: "구체적인 가이드라인이 있는 지시", b: "자유롭게 아이디어를 내는 지시", tag: "일상" },
            { type: "SN", q: "만주 벌판, 식량이 떨어져 간다. 리더인 당신은?", a: "하루 배급량을 계산해서 줄인다.", b: "정신력으로 버티자고 비전을 제시한다.", tag: "역사" },
            { type: "TF", q: "동료가 실수를 해서 우울해한다. 나의 반응은?", a: "실수 원인을 분석해서 해결책을 준다.", b: "많이 힘들지? 하며 술 한잔 사준다.", tag: "일상" },
            { type: "TF", q: "내부에 밀정이 있다는 의심이 든다. (심증만 있음)", a: "조직 안전을 위해 즉시 격리한다.", b: "억울한 사람이 없게 확실할 때까지 믿는다.", tag: "역사" },
            { type: "TF", q: "회의 중 의견 대립 시 결정 기준은?", a: "무엇이 더 효율적이고 논리적인가?", b: "무엇이 팀워크를 해치지 않는가?", tag: "일상" },
            { type: "JP", q: "의열단 거사 계획을 세워야 한다.", a: "A안, B안, 시간별 행동 수칙을 짠다.", b: "큰 목표만 정하고 현장에서 임기응변한다.", tag: "역사" },
            { type: "JP", q: "내비게이션 없이 길을 잃었을 때?", a: "차를 세우고 지도를 확인한다.", b: "감이 오는 쪽으로 일단 가본다.", tag: "일상" },
            { type: "JP", q: "독립운동 자금이 모였다. 사용 방식은?", a: "무기 40%, 식비 30% 등 예산을 짠다.", b: "일단 급한 무기부터 사고 본다.", tag: "역사" }
        ]
    };

    let currentMode = 'kids';
    let currentQIndex = 0;
    let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
    let questionList = [];

    function startTest(mode) {
        currentMode = mode;
        questionList = questionsData[mode];
        currentQIndex = 0;
        scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('question-screen').style.display = 'block';
        showQuestion();
    }

    function showQuestion() {
        const q = questionList[currentQIndex];
        const progress = (currentQIndex / questionList.length) * 100;
        document.getElementById('progress-fill').style.width = `${progress}%`;
        document.getElementById('q-text').innerText = q.q;
        const tagEl = document.getElementById('q-tag');
        tagEl.innerText = q.tag;
        tagEl.className = 'tag ' + (q.tag === '역사' ? 'tag-history' : 'tag-daily');
        const btns = document.querySelectorAll('.answer-btn');
        btns[0].innerText = q.a; btns[1].innerText = q.b;
        btns[0].onclick = () => nextQuestion('A'); btns[1].onclick = () => nextQuestion('B');
    }

    function nextQuestion(answer) {
        const q = questionList[currentQIndex];
        const type = q.type;
        answer === 'A' ? scores[type[0]]++ : scores[type[1]]++;
        currentQIndex++;
        if (currentQIndex < questionList.length) showQuestion();
        else showResult();
    }

    function showResult() {
        document.getElementById('question-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';

        const mbti = 
            (scores.E > scores.I ? 'E' : 'I') +
            (scores.S > scores.N ? 'S' : 'N') +
            (scores.T > scores.F ? 'T' : 'F') +
            (scores.J > scores.P ? 'J' : 'P');

        const data = results[mbti];

        document.getElementById('r-mbti').innerText = mbti;
        document.getElementById('r-name').innerText = data.name;
        document.getElementById('r-alias').innerText = `"${data.alias}"`;
        document.getElementById('r-desc').innerHTML = data.desc;

        // 이미지 처리
        const imgEl = document.getElementById('r-img');
        const fileNameEl = document.getElementById('r-filename');
        
        imgEl.style.display = 'block';
        imgEl.nextElementSibling.style.display = 'none'; // 에러 메시지 숨김
        imgEl.src = data.img; // 예: intj.jpg
        fileNameEl.innerText = data.img;
    }
</script>

</body>
</html>